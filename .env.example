# Application identity
APP_NAME=finance-management
APP_SUBDOMAIN=finance
BASE_DOMAIN=example.com

# Runtime networking
WEB_PORT=3000
API_PORT=5000
NODE_ENV=production

# Backend configuration
MONGO_URI=mongodb://finance-management-db:27017/finance
MONGO_DB_NAME=finance
MONGO_CONNECT_MAX_RETRIES=5
MONGO_CONNECT_RETRY_DELAY_MS=5000
MONGO_USERNAME=finance_app
MONGO_PASSWORD=finance_app_password
MONGO_DATABASE=finance

# Redis
REDIS_URL=redis://finance-management-redis:6379
REDIS_CONNECT_TIMEOUT_MS=10000

# Authentication
NEXTAUTH_URL=https://finance.example.com
NEXTAUTH_SECRET=change_this_to_a_random_secret
AUTH_BACKEND_URL=http://finance-management-api:5000
AUTH_REFRESH_PATH=/api/users/refresh-token
AUTH_REDIS_PREFIX=auth:v1
AUTH_KEY_SALT=change_this_to_a_random_salt
REGISTER_TIMEOUT_MS=15000
PROXY_TIMEOUT_MS=15000
PASSWORD_RESET_TIMEOUT_MS=15000
NEXT_PUBLIC_PASSWORD_RESET_REDIRECT_URL=https://finance.example.com/reset-password
ACCESS_TOKEN_SECRET=replace-with-strong-secret
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_SECRET=replace-with-strong-refresh-secret
REFRESH_TOKEN_EXPIRY=7d
OTP_EXPIRY_MINUTES=10
ADMIN_RECENT_LOGIN_LIMIT=5
DEFAULT_PASSWORD_RESET_REDIRECT=https://finance.example.com/reset-password

# Jobs
SUBSCRIPTION_JOB_LOCK_TTL_MS=900000
JOB_INSTANCE_ID=finance-management-worker-1

# PDF Generation Service
PDF_QUEUE_REDIS_URL=redis://finance-management-redis:6379
PDF_QUEUE_NAME=summary-pdf
PDF_JOB_RESPONSE_TIMEOUT_MS=45000
PDF_JOB_PROCESS_TIMEOUT_MS=120000

# Email
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_USER=user@example.com
EMAIL_PASS=password
EMAIL_FROM=noreply@example.com
EMAIL_SECURE=false
EMAIL_TLS_REJECT_UNAUTHORIZED=true
EMAIL_TLS_MIN_VERSION=TLSv1.2
EMAIL_TLS_CIPHERS=
EMAIL_PROVIDER=smtp
EMAIL_SERVICE=
EMAIL_API_KEY=
EMAIL_API_USER=
EMAIL_REQUIRE_TLS=true

# CORS
CORS_ALLOWED_ORIGINS=https://finance.example.com

# Uploads
UPLOADS_ROOT=/app/uploads
UPLOAD_MAX_BYTES=5242880
UPLOAD_MAX_DIMENSION=1600
PROFILE_IMAGE_MAX_DIMENSION=512

# Central reverse proxy metadata
BASE_URL=https://finance.example.com

# Backup Configuration
RESTIC_PASSWORD="change_this_to_a_very_secure_password"
RESTIC_REPOSITORY="/repo"

# Restore Configuration (Optional)
# RESTORE_SOURCE_DB=finance_management
# RESTORE_TARGET_DB=finance
